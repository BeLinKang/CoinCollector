webpackJsonp([1],{"+9FX":function(t,e){},"0K8t":function(t,e){},"1/vs":function(t,e){},"3j9m":function(t,e){},"3q0v":function(t,e){},"7MGS":function(t,e){},"8A9E":function(t,e){},CAYP:function(t,e){},H0Ig:function(t,e){},LRaK:function(t,e){},MBf8:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("xd7I"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("C7Lr")({name:"App"},s,!1,function(t){n("Oz72")},null,null).exports,o=n("7LQH"),r={name:"Header",props:{current:Number},data:function(){return{main_name:"小站",page_home:"首页",coin_name:"币圈数据分析",stone_name:"股票数据分析",new_name:"最新动态"}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Header "},[n("div",{staticClass:"content clearfix"},[n("a",{staticClass:"logo left",attrs:{href:"/"}},[t._v(t._s(t.main_name))]),t._v(" "),n("a",{staticClass:"item right",class:{item_active:4==t.current},attrs:{href:"/news"}},[t._v(t._s(t.new_name))]),t._v(" "),n("a",{staticClass:"item right",class:{item_active:2==t.current},attrs:{href:"/coin"}},[t._v(t._s(t.coin_name))]),t._v(" "),n("a",{staticClass:"item right",class:{item_active:1==t.current},attrs:{href:"/"}},[t._v(t._s(t.page_home))])])])},staticRenderFns:[]};var l=n("C7Lr")(r,c,!1,function(t){n("H0Ig")},"data-v-8670cb9e",null).exports,d={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Body"},[n("div",{staticClass:"body_content"},[n("div",{staticClass:"line_item1"},[t._v("111001101010")]),t._v(" "),n("div",{staticClass:"line_item1"},[t._v("001010100110")]),t._v(" "),n("div",{staticClass:"line_item1"},[t._v("111001101000")]),t._v(" "),n("div",{staticClass:"line_item1"},[t._v("001110110011")]),t._v(" "),n("div",{staticClass:"line_item2"},[t._v("一切为了看清")])])])}]};var _=n("C7Lr")({name:"HeaBodyder",data:function(){return{}}},d,!1,function(t){n("yj14")},"data-v-0f192e8a",null).exports,u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Footer"})},staticRenderFns:[]};var v=n("C7Lr")({name:"Footer",data:function(){return{}}},u,!1,function(t){n("qhmc")},"data-v-872ace80",null).exports;a.a.component("Header",l),a.a.component("Body",_),a.a.component("Footer",v);var h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header",{attrs:{current:1}}),this._v(" "),e("Body"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var m=n("C7Lr")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},h,!1,function(t){n("fxpU")},"data-v-adc12bd4",null).exports,p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Body"},[n("div",{staticClass:"body_content"},[n("h1",[t._v("最后更新时间")]),t._v(" "),n("p",[t._v("2019年12月3日")]),t._v(" "),n("h1",[t._v("已完成的工作")]),t._v(" "),n("h2",[t._v("网页抓取部分")]),t._v(" "),n("p",[t._v("已抓取的新闻网站:金色财经,巴比特,区势传媒,链向财经,链闻,陀螺财经")]),t._v(" "),n("p",[t._v("已分析的内容：通过分词，将新闻归类的各个币种中")]),t._v(" "),n("h2",[t._v("交易所信息采集")]),t._v(" "),n("h3",[t._v("火币")]),t._v(" "),n("p",[t._v('已采集币种:("BTC", "USDT"),("ETH", "USDT"),("XRP", "USDT"),("BCH", "USDT"),("LTC", "USDT"),("EOS", "USDT"),("BSV", "USDT"),("XLM", "USDT"),("TRX", "USDT"),("ADA", "USDT")')]),t._v(" "),n("p",[t._v("已采集内容:交易详情，深度信息")]),t._v(" "),n("p",[t._v("已分析的内容:按照分钟，小时，天统计多空比")]),t._v(" "),n("h3",[t._v("OK")]),t._v(" "),n("p",[t._v('已采集币种:("BTC", "USDT"),("ETH", "USDT"),("XRP", "USDT"),("BCH", "USDT"),("LTC", "USDT"),("EOS", "USDT"),("BSV", "USDT"),("XLM", "USDT"),("TRX", "USDT"),("ADA", "USDT")')]),t._v(" "),n("p",[t._v("已采集内容:交易详情，深度信息")]),t._v(" "),n("p",[t._v("已分析的内容:按照分钟，小时，天统计多空比")]),t._v(" "),n("h3",[t._v("币安")]),t._v(" "),n("p",[t._v('已采集币种:("BTC", "USDT"),("ETH", "USDT"),("XRP", "USDT"),("BCH", "USDT"),("LTC", "USDT"),("EOS", "USDT"),("BSV", "USDT"),("XLM", "USDT"),("TRX", "USDT"),("ADA", "USDT")')]),t._v(" "),n("p",[t._v("已采集内容:交易详情，深度信息")]),t._v(" "),n("p",[t._v("已分析的内容:按照分钟，小时，天统计多空比")]),t._v(" "),n("h1",[t._v("更新日志")]),t._v(" "),n("h2",[t._v("2019年12月5日")]),t._v(" "),n("p",[t._v("增加了币世界新闻的抓取")]),t._v(" "),n("h2",[t._v("2019年12月4日")]),t._v(" "),n("p",[t._v("增加了陀螺财经新闻的抓取")]),t._v(" "),n("h2",[t._v("2019年12月4日")]),t._v(" "),n("p",[t._v("增加稳定性:解决服务端websocket服务器内存爆炸的问题，以及客户端websocket重连机制的问题，去除了vue的#")]),t._v(" "),n("h2",[t._v("2019年12月3日")]),t._v(" "),n("p",[t._v("最最基础的简陋到丑陋的版本上线，包括手机版")])])])}]};var f=n("C7Lr")({name:"ErrorBody",data:function(){return{}}},p,!1,function(t){n("l406")},"data-v-7f49c25c",null).exports,g=n("Muz9"),w=n.n(g),C="",b={depth_url:"ws://www.bxiaozhan.com:8000",detail_url:"ws://www.bxiaozhan.com:8001",analyse_url:"ws://www.bxiaozhan.com:8002"},S=n("hp2s"),T=n.n(S),y=n("X2kA");a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var D={name:"Main",data:function(){return{totalRow:0,row_list:[]}},created:function(){},methods:{pageChange:function(t){var e=this;console.log(t);var n=C+"/back/getcoinbase.php?method=get_all&page_idx="+(t.pageNumber-1)*t.pageSize+"&page_size="+t.pageSize;w.a.get(n,{method:"get",withCredentials:!1}).then(function(t){t.data;e.totalRow=Number(t.data.count),e.row_list=t.data.list}).catch(function(t){alert(t)})}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"title"},[t._v("代币列表")]),t._v(" "),n("table",{staticClass:"content"},[t._m(0),t._v(" "),t._l(t.row_list.length,function(e){return n("tr",[n("td",{staticClass:"item1 "},[t._v(t._s(t.row_list[e-1].index))]),t._v(" "),n("td",{staticClass:"item2 "},[t._v(t._s(t.row_list[e-1].name))]),t._v(" "),n("td",{staticClass:"item3 "},[t._v(t._s(t.row_list[e-1].name_en))]),t._v(" "),n("td",{staticClass:"item4 "},[t._v(t._s(t.row_list[e-1].name_cn))]),t._v(" "),n("td",{staticClass:"item5 "},[t._v(t._s(t.row_list[e-1].official_website))]),t._v(" "),n("td",{staticClass:"item6 "},[n("a",{staticClass:"coinbase_describe",attrs:{href:"/coin/describe/"+t.row_list[e-1].id}},[t._v("详情")])])])})],2),t._v(" "),n("v-page",{staticClass:"v-pagination--center v-page",attrs:{totalRow:t.totalRow,pageSizeMenu:[10,20,50]},on:{"page-change":t.pageChange}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("排名")]),t._v(" "),n("th",[t._v("名称")]),t._v(" "),n("th",[t._v("简称")]),t._v(" "),n("th",[t._v("中文名")]),t._v(" "),n("th",[t._v("官网")]),t._v(" "),n("th",[t._v("详细描述")])])}]};var x=n("C7Lr")(D,U,!1,function(t){n("CAYP")},"data-v-15e1faca",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var k={name:"CoinNews",data:function(){return{new_list:[],page_idx:0}},created:function(){this.GetPage(0)},computed:{},methods:{GetPage:function(t){var e=this,n=C+"/back/getnews.php?&offset="+10*t+"&size=10";w.a.get(n,{method:"get",withCredentials:!1}).then(function(t){for(var n=0;n<t.data.list.length;n++)t.data.list[n].time_utc=e.transformTime(t.data.list[n].time_utc);e.new_list=e.new_list.concat(t.data.list),e.page_idx+=1,console.log(e.new_list)}).catch(function(t){console.log(t),alert(t)})},addZero:function(t){return t<10?"0"+t:t},transformTime:function(t){var e=Date.parse(new Date);if(e-(t*=1e3)<36e5)return parseInt((e-t)/1e3/60)+"分钟前";if(e-t<864e5)return parseInt((e-t)/1e3/60/60)+"小时前";if(t){var n=new Date(t),a=n.getFullYear(),s=n.getMonth()+1,i=n.getDate(),o=n.getHours(),r=n.getMinutes(),c=n.getSeconds();return a+"-"+this.addZero(s)+"-"+this.addZero(i)+" "+this.addZero(o)+":"+this.addZero(r)+":"+this.addZero(c)}return""},computeSource:function(t){switch(t){case"8比特":return"https://www.8btc.com/";case"金色财金":return"https://www.jinse.com/";case"链闻chainnews":return"https://www.chainnews.com/";case"区势传媒":return"https://www.55coin.com/";case"链向财经":return"https://www.chainfor.com/"}}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"title"},[t._v("最新新闻列表")]),t._v(" "),t._l(t.new_list.length,function(e){return n("div",{staticClass:"news_list"},[n("a",{staticClass:"news_title",attrs:{href:t.new_list[e-1].source_addr,target:"_blank"}},[t._v(t._s(t.new_list[e-1].title))]),t._v(" "),n("div",{staticClass:"news_desc"},[t._v(t._s(t.new_list[e-1].desc))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("a",{staticClass:"news_media left",attrs:{href:t.computeSource(t.new_list[e-1].source_media),target:"_blank"}},[t._v("来源:"+t._s(t.new_list[e-1].source_media))]),t._v(" "),n("div",{staticClass:"news_author left"},[t._v("作者:"+t._s(t.new_list[e-1].author))]),t._v(" "),n("div",{staticClass:"news_time right"},[t._v("发布时间:"+t._s(t.new_list[e-1].time_utc))])])])}),t._v(" "),n("a",{staticClass:"btn_next",on:{click:function(e){return t.GetPage(t.page_idx)}}},[t._v("下一页")])],2)},staticRenderFns:[]};var F=n("C7Lr")(k,$,!1,function(t){n("MBf8")},"data-v-5d81b200",null).exports;a.a.component("Header",l),a.a.component("Footer",v),a.a.component("CoinTable",x),a.a.component("CoinNews",F);var E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header",{attrs:{current:2}}),this._v(" "),e("CoinTable"),this._v(" "),e("CoinNews"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var H=n("C7Lr")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},E,!1,function(t){n("tOCY")},"data-v-3cd50a4f",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var R={name:"CoinDescribeIntruduce",props:{id:String},data:function(){return{discription:""}},created:function(){var t=this,e=C+"/back/getcoinbase.php?method=get_description&id="+this.$props.id;w.a.get(e,{method:"get",withCredentials:!1}).then(function(e){t.discription=e.data}).catch(function(t){console.log(t),alert(t)})},methods:{pageChange:function(t){console.log(t)}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"CoinDescribeIntruduce clearfix"},[e("div",{staticClass:"discribe"},[this._v("\n    "+this._s(this.discription)+"\n  ")]),this._v(" "),e("a",{staticClass:"back",attrs:{href:"/coin"}},[this._v("\n    返回\n  ")])])},staticRenderFns:[]};var B=n("C7Lr")(R,L,!1,function(t){n("LRaK")},"data-v-205b59e8",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var I={name:"CoinNewsOnCoin",props:{id:String},data:function(){return{new_list:[],page_idx:0}},created:function(){this.GetPage(0)},computed:{},methods:{GetPage:function(t){var e=this,n=C+"/back/getnewsbycoinid.php?&offset="+10*t+"&size=10&coin_id="+this.$props.id;w.a.get(n,{method:"get",withCredentials:!1}).then(function(t){for(var n=0;n<t.data.list.length;n++)t.data.list[n].time_utc=e.transformTime(t.data.list[n].time_utc);e.new_list=e.new_list.concat(t.data.list),e.page_idx+=1,console.log(e.new_list)}).catch(function(t){console.log(t),alert(t)})},addZero:function(t){return t<10?"0"+t:t},transformTime:function(t){var e=Date.parse(new Date);if(e-(t*=1e3)<36e5)return parseInt((e-t)/1e3/60)+"分钟前";if(e-t<864e5)return parseInt((e-t)/1e3/60/60)+"小时前";if(t){var n=new Date(t),a=n.getFullYear(),s=n.getMonth()+1,i=n.getDate(),o=n.getHours(),r=n.getMinutes(),c=n.getSeconds();return a+"-"+this.addZero(s)+"-"+this.addZero(i)+" "+this.addZero(o)+":"+this.addZero(r)+":"+this.addZero(c)}return""},computeSource:function(t){switch(t){case"8比特":return"https://www.8btc.com/";case"金色财金":return"https://www.jinse.com/";case"链闻chainnews":return"https://www.chainnews.com/";case"区势传媒":return"https://www.55coin.com/";case"链向财经":return"https://www.chainfor.com/"}}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"title"},[t._v("最新新闻列表")]),t._v(" "),t._l(t.new_list.length,function(e){return n("div",{staticClass:"news_list"},[n("a",{staticClass:"news_title",attrs:{href:t.new_list[e-1].source_addr,target:"_blank"}},[t._v(t._s(t.new_list[e-1].title))]),t._v(" "),n("div",{staticClass:"news_desc"},[t._v(t._s(t.new_list[e-1].desc))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("a",{staticClass:"news_media left",attrs:{href:t.computeSource(t.new_list[e-1].source_media),target:"_blank"}},[t._v("来源:"+t._s(t.new_list[e-1].source_media))]),t._v(" "),n("div",{staticClass:"news_author left"},[t._v("作者:"+t._s(t.new_list[e-1].author))]),t._v(" "),n("div",{staticClass:"news_time right"},[t._v("发布时间:"+t._s(t.new_list[e-1].time_utc))])])])}),t._v(" "),n("a",{staticClass:"btn_next",on:{click:function(e){return t.GetPage(t.page_idx)}}},[t._v("下一页")])],2)},staticRenderFns:[]};var A=n("C7Lr")(I,M,!1,function(t){n("Y5zk")},"data-v-6ad49237",null).exports,O=n("3cXf"),N=n.n(O),P="",Z={name:"Main",props:{id:String},data:function(){return{show:!1,depth_item_title:["火币行情","OK行情","币安行情"],depth_data:[[[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]],[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]]],[[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]],[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]]],[[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]],[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]]]]}},created:function(){if(P=this,window.WebSocket){var t=C+"/back/getcoinbase.php?method=get_coin_name_en&id="+this.$props.id;w.a.get(t,{method:"get",withCredentials:!1}).then(function(t){J(t.data)}).catch(function(t){console.log(t),alert(t)})}},destroyed:function(){!function(){console.log("关闭连接"),V=!0,null!=X&&(clearTimeout(X),X=null);null!=Y&&(clearInterval(Y),Y=null);z&&(clearTimeout(z),z=null);null!=j&&j.close()}()},methods:{}},W="",j=null,X=null,Y=null,z=null,V=!1;function G(){z&&clearTimeout(z),z=setTimeout(function(){j&&(console.log("force close"),j.close())},1e4)}function J(t){var e=[{method:"sub_depth",param:{market:0,order_coin:(W=t).toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:1,order_coin:W.toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:2,order_coin:W.toUpperCase(),base_coin:"USDT",depth:5}}];(j=new WebSocket(b.depth_url)).onopen=function(t){for(var n in console.log("连接服务器成功"),e)console.log(N()(e[n])),j.send(N()(e[n]));Y&&clearInterval(Y),Y=setInterval(function(){null!=j&&console.log("发送ping"),j.send(N()({ping:0}))},5e3),G()},j.onclose=function(t){console.log("服务器关闭"),function(){if(V)return;X&&(clearTimeout(X),X=null);X=setTimeout(function(){J(W)},5e3)}()},j.onerror=function(){console.log("连接出错")},j.onmessage=function(t){G();var e=JSON.parse(t.data);"pong"in e||(e.order_coin==W&&0==e.market?(P.$set(P.depth_data[0],0,e.forsell.slice(0,5).reverse()),P.$set(P.depth_data[0],1,e.forbuy.slice(0,5))):e.order_coin==W&&1==e.market?(P.$set(P.depth_data[1],0,e.forsell.slice(0,5).reverse()),P.$set(P.depth_data[1],1,e.forbuy.slice(0,5))):e.order_coin==W&&2==e.market&&(P.$set(P.depth_data[2],0,e.forsell.slice(0,5).reverse()),P.$set(P.depth_data[2],1,e.forbuy.slice(0,5))))}}var K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title_content clearfix"},[n("div",{staticClass:"title left"},[t._v("深度行情")]),t._v(" "),n("div",{staticClass:"show_btn left",on:{click:function(e){t.show=!t.show}}},[t._v(" 展开/折叠")])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",{staticClass:"depth clearfix"},t._l(3,function(e){return n("div",{staticClass:"left",class:{depth_item1:1==e,depth_item2:2==e,depth_item3:3==e}},[n("div",[t._v("\n        "+t._s(t.depth_item_title[e-1])+"\n      ")]),t._v(" "),n("table",{staticClass:"table_sell"},[n("tr",[n("th",{staticClass:"depth_head1"},[t._v("价格(USDT)")]),t._v(" "),n("th",{staticClass:"depth_head2"},[t._v("数量")])]),t._v(" "),t._l(5,function(a){return n("tr",[n("td",[t._v(t._s(t.depth_data[e-1][0][a-1][0].toString().substring(0,10)))]),t._v(" "),n("td",[t._v(t._s(t.depth_data[e-1][0][a-1][1].toString().substring(0,10)))])])})],2),t._v(" "),n("table",{staticClass:"table_buy"},[n("tr",[n("th",{staticClass:"depth_head1"},[t._v("价格(USDT)")]),t._v(" "),n("th",{staticClass:"depth_head2"},[t._v("数量")])]),t._v(" "),t._l(5,function(a){return n("tr",[n("td",[t._v(t._s(t.depth_data[e-1][1][a-1][0].toString().substring(0,10)))]),t._v(" "),n("td",[t._v(t._s(t.depth_data[e-1][1][a-1][1].toString().substring(0,10)))])])})],2)])}),0):t._e()])],1)},staticRenderFns:[]};var q=n("C7Lr")(Z,K,!1,function(t){n("Sa5l")},"data-v-8e3d5d18",null).exports,Q="",tt={name:"Main",props:{id:String},data:function(){return{show:!1,depth_item_title:["火币最新交易","OK最新交易","币安最新交易"],depth_data:[]}},created:function(){Q=this;for(var t=new Array,e=0;e<3;e++){t[e]=new Array;for(var n=0;n<10;n++)t[e][n]=new Array("-","-","-",0)}if(this.depth_data=t,window.WebSocket){var a=C+"/back/getcoinbase.php?method=get_coin_name_en&id="+this.$props.id;w.a.get(a,{method:"get",withCredentials:!1}).then(function(t){ct(t.data)}).catch(function(t){console.log(t),alert(t)})}},destroyed:function(){!function(){console.log("关闭连接"),it=!0,null!=at&&(clearTimeout(at),at=null);null!=st&&(clearInterval(st),st=null);ot&&(clearTimeout(ot),ot=null);null!=nt&&nt.close()}()},methods:{utc2beijing:function(t){if("-"==t)return"-";var e=new Date(parseInt(t));return(1==e.getHours().toString().length?"0":"")+e.getHours().toString()+":"+(1==e.getMinutes().toString().length?"0":"")+e.getMinutes().toString()+":"+(1==e.getSeconds().toString().length?"0":"")+e.getSeconds().toString()}}},et="",nt=null,at=null,st=null,it=!1,ot=null;function rt(){ot&&clearTimeout(ot),ot=setTimeout(function(){nt&&(console.log("force close"),nt.close())},1e4)}function ct(t){var e=[{method:"sub_depth",param:{market:0,order_coin:(et=t).toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:1,order_coin:et.toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:2,order_coin:et.toUpperCase(),base_coin:"USDT",depth:5}}];(nt=new WebSocket(b.detail_url)).onopen=function(t){for(var n in console.log("连接服务器成功"),e)console.log(N()(e[n])),nt.send(N()(e[n]));st&&clearInterval(st),st=setInterval(function(){null!=nt&&console.log("发送ping"),nt.send(N()({ping:0}))},5e3),rt()},nt.onclose=function(t){console.log("服务器关闭"),function(){if(it)return;at&&(clearTimeout(at),at=null);at=setTimeout(function(){ct(et)},5e3)}()},nt.onerror=function(){console.log("连接出错")},nt.onmessage=function(t){rt();var e=JSON.parse(t.data);if(!("pong"in e))if(e.order_coin==et&&0==e.market){var n=[];for(var a in e.data)n.push([e.data[a].trade_time,e.data[a].price,e.data[a].amount,e.data[a].dir]);n=n.concat(Q.depth_data[0]),Q.$set(Q.depth_data,0,n.slice(0,10))}else if(e.order_coin==et&&1==e.market){n=[];for(var a in e.data)n.push([e.data[a].trade_time,e.data[a].price,e.data[a].amount,e.data[a].dir]);n=(n=n.reverse()).concat(Q.depth_data[1]),Q.$set(Q.depth_data,1,n.slice(0,10))}else if(e.order_coin==et&&2==e.market){n=[];for(var a in e.data)n.push([e.data[a].trade_time,e.data[a].price,e.data[a].amount,e.data[a].dir]);n=(n=n.reverse()).concat(Q.depth_data[2]),Q.$set(Q.depth_data,2,n.slice(0,10))}}}var lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title_content clearfix"},[n("div",{staticClass:"title left"},[t._v("成交记录")]),t._v(" "),n("div",{staticClass:"show_btn left",on:{click:function(e){t.show=!t.show}}},[t._v(" 展开/折叠")])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",{staticClass:"depth clearfix"},t._l(3,function(e){return n("div",{staticClass:"left",class:{depth_item1:1==e,depth_item2:2==e,depth_item3:3==e}},[n("div",[t._v("\n          "+t._s(t.depth_item_title[e-1])+"\n        ")]),t._v(" "),n("table",{staticClass:"table_sell"},[n("tr",[n("th",{staticClass:"depth_head1"},[t._v("交易时间")]),t._v(" "),n("th",{staticClass:"depth_head2"},[t._v("价格(USDT)")]),t._v(" "),n("th",{staticClass:"depth_head3"},[t._v("数量")])]),t._v(" "),t._l(10,function(a){return n("tr",{class:{green:0==t.depth_data[e-1][a-1][3]}},[n("td",[t._v(t._s(t.utc2beijing(t.depth_data[e-1][a-1][0]).toString()))]),t._v(" "),n("td",[t._v(t._s(t.depth_data[e-1][a-1][1].toString().substring(0,10)))]),t._v(" "),n("td",[t._v(t._s(t.depth_data[e-1][a-1][2].toString().substring(0,10)))])])})],2)])}),0):t._e()])],1)},staticRenderFns:[]};var dt=n("C7Lr")(tt,lt,!1,function(t){n("ZS1o")},"data-v-7e320aba",null).exports,_t="",ut={name:"Main",props:{id:String},data:function(){return{show:!1,day_amount:[[0,0],[0,0],[0,0]],day_buy_width:[100,100,100],all_amount:[0,0],all_buy_width:100}},created:function(){var t=new Date;if(console.log(t.getTime()),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),_t=this,window.WebSocket){var e=C+"/back/getcoinbase.php?method=get_coin_name_en&id="+this.$props.id;w.a.get(e,{method:"get",withCredentials:!1}).then(function(t){console.log("lalalaalalalal"+t.data),Ct(t.data)}).catch(function(t){console.log(t),alert(t)})}},destroyed:function(){!function(){console.log("关闭连接"),pt=!0,null!=mt&&(clearTimeout(mt),mt=null);null!=ft&&(clearInterval(ft),ft=null);gt&&(clearTimeout(gt),gt=null);null!=ht&&ht.close()}()},methods:{}},vt="",ht=null,mt=null,pt=!1,ft=null,gt=null;function wt(){gt&&clearTimeout(gt),gt=setTimeout(function(){ht&&(console.log("force close"),ht.close())},1e4)}function Ct(t){var e=[{method:"sub_analyse",param:{market:0,order_coin:(vt=t).toUpperCase(),base_coin:"USDT",watch_type:["min","hour","day"]}},{method:"sub_analyse",param:{market:1,order_coin:vt.toUpperCase(),base_coin:"USDT",watch_type:["min","hour","day"]}},{method:"sub_analyse",param:{market:2,order_coin:vt.toUpperCase(),base_coin:"USDT",watch_type:["min","hour","day"]}}];(ht=new WebSocket(b.analyse_url)).onopen=function(t){for(var n in console.log("连接服务器成功"),e)console.log(N()(e[n])),ht.send(N()(e[n]));ft&&clearInterval(ft),ft=setInterval(function(){null!=ht&&console.log("发送ping"),ht.send(N()({ping:0}))},5e3),wt()},ht.onclose=function(t){console.log("服务器关闭"),function(){if(pt)return;mt&&(clearTimeout(mt),mt=null);mt=setTimeout(function(){Ct(vt)},5e3)}()},ht.onerror=function(){console.log("连接出错")},ht.onmessage=function(t){wt();var e=JSON.parse(t.data);if(!("pong"in e)){var n=e.type.split("_");if("day"==n[0]&&0!=e.data.length){_t.$set(_t.day_amount[n[1]],0,e.data[0].buy.toString().slice(0,10)),_t.$set(_t.day_amount[n[1]],1,e.data[0].sell.toString().slice(0,10)),_t.$set(_t.day_buy_width,n[1],parseFloat(e.data[0].buy)/(parseFloat(e.data[0].buy)+parseFloat(e.data[0].sell))*100);for(var a=0,s=0,i=0;i<3;i++)a+=parseFloat(_t.day_amount[i][0]),s+=parseFloat(_t.day_amount[i][1]);_t.all_amount=[a.toString().slice(0,10),s.toString().slice(0,10)],_t.all_buy_width=100*a/(a+s)}}}}var bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title_content clearfix"},[n("div",{staticClass:"title left"},[t._v("分析")]),t._v(" "),n("div",{staticClass:"show_btn left",on:{click:function(e){t.show=!t.show}}},[t._v(" 展开/折叠")])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",[n("div",{staticClass:"title_content clearfix"},t._l(3,function(e){return n("div",{staticClass:"left",class:{depth_item1:1==e,depth_item2:2==e,depth_item3:3==e}},[n("div",[t._v("\n            当日多空情况\n          ")]),t._v(" "),n("div",{staticClass:"clearfix"},[n("div",{staticClass:"buy left"},[t._v("买入总数:"+t._s(t.day_amount[e-1][0]))]),t._v(" "),n("div",{staticClass:"sell left"},[t._v("卖出总数:"+t._s(t.day_amount[e-1][1]))])]),t._v(" "),n("div",{staticClass:"clearfix"},[n("div",{staticClass:"buyscale left",staticStyle:{background:"#00ff00"},style:{width:t.day_buy_width[e-1]+"%"}}),t._v(" "),n("div",{staticClass:"sellscale left",staticStyle:{background:"#ff0000"},style:{width:100-t.day_buy_width[e-1]+"%"}})])])}),0),t._v(" "),n("div",{staticClass:"amount_title"},[t._v("\n            汇总\n      ")]),t._v(" "),n("div",{staticClass:"clearfix amount_count",staticStyle:{width:"600px"}},[n("div",{staticClass:"buy left"},[t._v("买入总数:"+t._s(t.all_amount[0]))]),t._v(" "),n("div",{staticClass:"sell left"},[t._v("卖出总数:"+t._s(t.all_amount[1]))])]),t._v(" "),n("div",{staticClass:"clearfix amount_line"},[n("div",{staticClass:"buyscale left",staticStyle:{background:"#00ff00"},style:{width:t.all_buy_width+"%"}}),t._v(" "),n("div",{staticClass:"sellscale left",staticStyle:{background:"#ff0000"},style:{width:100-t.all_buy_width+"%"}})])]):t._e()])],1)},staticRenderFns:[]};var St=n("C7Lr")(ut,bt,!1,function(t){n("7MGS")},"data-v-ff0f2d0e",null).exports;a.a.component("Header",l),a.a.component("CoinDescribeIntruduce",B),a.a.component("CoinNewsOnCoin",A),a.a.component("Footer",v),a.a.component("CoinDepth",q),a.a.component("CoinDetail",dt),a.a.component("CoinTradeInfo",St);var Tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header",{attrs:{current:2}}),this._v(" "),e("CoinDescribeIntruduce",{attrs:{id:this.$route.params.id}}),this._v(" "),e("CoinDepth",{attrs:{id:this.$route.params.id}}),this._v(" "),e("CoinDetail",{attrs:{id:this.$route.params.id}}),this._v(" "),e("CoinTradeInfo",{attrs:{id:this.$route.params.id}}),this._v(" "),e("CoinNewsOnCoin",{attrs:{id:this.$route.params.id}}),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var yt=n("C7Lr")({name:"CoinDescrebe",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Tt,!1,function(t){n("T2bn")},"data-v-6adebe6e",null).exports;a.a.component("Header",l),a.a.component("Footer",v),a.a.component("ErrorBody",f);var Dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header",{attrs:{current:3}}),this._v(" "),e("ErrorBody"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var Ut=n("C7Lr")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Dt,!1,function(t){n("3j9m")},"data-v-e5c2b454",null).exports;a.a.component("Header",l),a.a.component("Footer",v),a.a.component("ErrorBody",f);var xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("Header",{attrs:{current:4}}),this._v(" "),e("ErrorBody"),this._v(" "),e("Footer")],1)},staticRenderFns:[]};var kt=n("C7Lr")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},xt,!1,function(t){n("3q0v")},"data-v-307c7c3f",null).exports,$t={name:"mHeader",props:{current:Number},data:function(){return{main_name:"小站",page_home:"首页",coin_name:"币圈数据分析",stone_name:"股票数据分析",new_name:"最新动态"}}},Ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Header"},[n("div",{staticClass:"content clearfix"},[n("a",{staticClass:"logo left",attrs:{href:"/"}},[t._v(t._s(t.main_name))]),t._v(" "),n("a",{staticClass:"item right",class:{item_active:4==t.current},attrs:{href:"/news"}},[t._v(t._s(t.new_name))]),t._v(" "),n("a",{staticClass:"item right",class:{item_active:2==t.current},attrs:{href:"/coin"}},[t._v(t._s(t.coin_name))]),t._v(" "),n("a",{staticClass:"item right",class:{item_active:1==t.current},attrs:{href:"/"}},[t._v(t._s(t.page_home))])])])},staticRenderFns:[]};var Et=n("C7Lr")($t,Ft,!1,function(t){n("0K8t")},"data-v-0926c105",null).exports,Ht={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Body"},[n("div",{staticClass:"body_content"},[n("div",{staticClass:"line_item1"},[t._v("111001101010")]),t._v(" "),n("div",{staticClass:"line_item1"},[t._v("001010100110")]),t._v(" "),n("div",{staticClass:"line_item1"},[t._v("111001101000")]),t._v(" "),n("div",{staticClass:"line_item1"},[t._v("001110110011")]),t._v(" "),n("div",{staticClass:"line_item2"},[t._v("一切为了看清")])])])}]};var Rt=n("C7Lr")({name:"mBody",data:function(){return{}}},Ht,!1,function(t){n("QYZS")},"data-v-4ca49042",null).exports,Lt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"Footer"})},staticRenderFns:[]};var Bt=n("C7Lr")({name:"mFooter",data:function(){return{}}},Lt,!1,function(t){n("VeO1")},"data-v-7422870d",null).exports;a.a.component("mHeader",Et),a.a.component("mBody",Rt),a.a.component("mFooter",Bt);var It={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mmmmm"},[e("mHeader",{attrs:{current:1}}),this._v(" "),e("mBody"),this._v(" "),e("mFooter")],1)},staticRenderFns:[]};var Mt=n("C7Lr")({name:"mMain",data:function(){return{msg:"Welcome to Your Vue.js App"}}},It,!1,function(t){n("mSqb")},"data-v-7d2963e4",null).exports,At={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Body"},[n("div",{staticClass:"body_content"},[n("h1",[t._v("最后更新时间")]),t._v(" "),n("p",[t._v("2019年12月4日")]),t._v(" "),n("h1",[t._v("已完成的工作")]),t._v(" "),n("h2",[t._v("网页抓取部分")]),t._v(" "),n("p",[t._v("已抓取的新闻网站:金色财经,巴比特,区势传媒,链向财经,链闻")]),t._v(" "),n("p",[t._v("已分析的内容：通过分词，将新闻归类的各个币种中")]),t._v(" "),n("h2",[t._v("交易所信息采集")]),t._v(" "),n("h3",[t._v("火币")]),t._v(" "),n("p",[t._v('已采集币种:("BTC", "USDT"),("ETH", "USDT"),("XRP", "USDT"),("BCH", "USDT"),("LTC", "USDT"),("EOS", "USDT"),("BSV", "USDT"),("XLM", "USDT"),("TRX", "USDT"),("ADA", "USDT")')]),t._v(" "),n("p",[t._v("已采集内容:交易详情，深度信息")]),t._v(" "),n("p",[t._v("已分析的内容:按照分钟，小时，天统计多空比")]),t._v(" "),n("h3",[t._v("OK")]),t._v(" "),n("p",[t._v('已采集币种:("BTC", "USDT"),("ETH", "USDT"),("XRP", "USDT"),("BCH", "USDT"),("LTC", "USDT"),("EOS", "USDT"),("BSV", "USDT"),("XLM", "USDT"),("TRX", "USDT"),("ADA", "USDT")')]),t._v(" "),n("p",[t._v("已采集内容:交易详情，深度信息")]),t._v(" "),n("p",[t._v("已分析的内容:按照分钟，小时，天统计多空比")]),t._v(" "),n("h3",[t._v("币安")]),t._v(" "),n("p",[t._v('已采集币种:("BTC", "USDT"),("ETH", "USDT"),("XRP", "USDT"),("BCH", "USDT"),("LTC", "USDT"),("EOS", "USDT"),("BSV", "USDT"),("XLM", "USDT"),("TRX", "USDT"),("ADA", "USDT")')]),t._v(" "),n("p",[t._v("已采集内容:交易详情，深度信息")]),t._v(" "),n("p",[t._v("已分析的内容:按照分钟，小时，天统计多空比")]),t._v(" "),n("h1",[t._v("更新日志")]),t._v(" "),n("h2",[t._v("2019年12月4日")]),t._v(" "),n("p",[t._v("增加了陀螺财经新闻的抓取")]),t._v(" "),n("h2",[t._v("2019年12月4日")]),t._v(" "),n("p",[t._v("增加稳定性:解决服务端websocket服务器内存爆炸的问题，以及客户端websocket重连机制的问题，去除了vue的#")]),t._v(" "),n("h2",[t._v("2019年12月3日")]),t._v(" "),n("p",[t._v("最最基础的简陋到丑陋的版本上线，包括手机版")])])])}]};var Ot=n("C7Lr")({name:"ErrorBody",data:function(){return{}}},At,!1,function(t){n("NLdt")},"data-v-6446d9ea",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var Nt={name:"mCoinTable",data:function(){return{left_btn_disable:!1,now_index:0,totalRow:0,row_list:[]}},created:function(){this.on_page_change(0)},methods:{on_page_change:function(t){var e=this;if(console.log(t),this.now_index+=t,this.now_index<0)this.now_index=0;else{0==this.now_index&&(this.left_btn_disable=!0);var n=C+"/back/getcoinbase.php?method=get_all&page_idx="+10*this.now_index+"&page_size=10";w.a.get(n,{method:"get",withCredentials:!1}).then(function(t){t.data;e.totalRow=Number(t.data.count),e.row_list=t.data.list}).catch(function(t){alert(t)})}}}},Pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"title"},[t._v("代币列表")]),t._v(" "),n("table",{staticClass:"content"},[t._m(0),t._v(" "),t._l(t.row_list.length,function(e){return n("tr",[n("td",{staticClass:"item1 "},[t._v(t._s(t.row_list[e-1].index))]),t._v(" "),n("td",{staticClass:"item2 "},[t._v(t._s(t.row_list[e-1].name_en))]),t._v(" "),n("td",{staticClass:"item3 "},[t._v(t._s(t.row_list[e-1].name_cn))]),t._v(" "),n("td",{staticClass:"item4 "},[n("a",{staticClass:"coinbase_describe",attrs:{href:t.row_list[e-1].official_website}},[t._v("访问")])]),t._v(" "),n("td",{staticClass:"item5 "},[n("a",{staticClass:"coinbase_describe",attrs:{href:"/coin/describe/"+t.row_list[e-1].id}},[t._v("详情")])])])})],2),t._v(" "),n("div",{staticClass:"btn_content clearfix"},[n("div",{staticClass:"btn left",class:{disable:t.left_btn_disable},on:{click:function(e){return t.on_page_change(-1)}}},[t._v("上一页")]),t._v(" "),n("div",{staticClass:"btn right",on:{click:function(e){return t.on_page_change(1)}}},[t._v("下一页")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{"text-align":"center"}},[t._v("排名")]),t._v(" "),n("th",{attrs:{"text-align":"center"}},[t._v("简称")]),t._v(" "),n("th",{attrs:{"text-align":"center"}},[t._v("中文名")]),t._v(" "),n("th",{attrs:{"text-align":"center"}},[t._v("官网")]),t._v(" "),n("th",{attrs:{"text-align":"center"}},[t._v("描述")])])}]};var Zt=n("C7Lr")(Nt,Pt,!1,function(t){n("sbQ8")},"data-v-2bc0ba4b",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var Wt={name:"mCoinNews",data:function(){return{new_list:[],page_idx:0}},created:function(){this.GetPage(0)},computed:{},methods:{GetPage:function(t){var e=this,n=C+"/back/getnews.php?&offset="+10*t+"&size=10";w.a.get(n,{method:"get",withCredentials:!1}).then(function(t){for(var n=0;n<t.data.list.length;n++)t.data.list[n].time_utc=e.transformTime(t.data.list[n].time_utc);e.new_list=e.new_list.concat(t.data.list),e.page_idx+=1,console.log(e.new_list)}).catch(function(t){console.log(t),alert(t)})},addZero:function(t){return t<10?"0"+t:t},transformTime:function(t){var e=Date.parse(new Date);if(e-(t*=1e3)<36e5)return parseInt((e-t)/1e3/60)+"分钟前";if(e-t<864e5)return parseInt((e-t)/1e3/60/60)+"小时前";if(t){var n=new Date(t),a=n.getFullYear(),s=n.getMonth()+1,i=n.getDate(),o=n.getHours(),r=n.getMinutes(),c=n.getSeconds();return a+"-"+this.addZero(s)+"-"+this.addZero(i)+" "+this.addZero(o)+":"+this.addZero(r)+":"+this.addZero(c)}return""},computeSource:function(t){switch(t){case"8比特":return"https://www.8btc.com/";case"金色财金":return"https://www.jinse.com/";case"链闻chainnews":return"https://www.chainnews.com/";case"区势传媒":return"https://www.55coin.com/";case"链向财经":return"https://www.chainfor.com/"}}}},jt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"title"},[t._v("最新新闻列表")]),t._v(" "),t._l(t.new_list.length,function(e){return n("div",{staticClass:"news_list"},[n("a",{staticClass:"news_title",attrs:{href:t.new_list[e-1].source_addr,target:"_blank"}},[t._v(t._s(t.new_list[e-1].title))]),t._v(" "),n("div",{staticClass:"news_desc"},[t._v(t._s(t.new_list[e-1].desc))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("a",{staticClass:"news_media right",attrs:{href:t.computeSource(t.new_list[e-1].source_media),target:"_blank"}},[t._v("来源:"+t._s(t.new_list[e-1].source_media))]),t._v(" "),n("div",{staticClass:"news_author right"},[t._v("作者:"+t._s(t.new_list[e-1].author))]),t._v(" "),n("div",{staticClass:"news_time right"},[t._v("发布时间:"+t._s(t.new_list[e-1].time_utc))])])])}),t._v(" "),n("a",{staticClass:"btn_next",on:{click:function(e){return t.GetPage(t.page_idx)}}},[t._v("下一页")])],2)},staticRenderFns:[]};var Xt=n("C7Lr")(Wt,jt,!1,function(t){n("+9FX")},"data-v-31909657",null).exports;a.a.component("mHeader",Et),a.a.component("mFooter",Bt),a.a.component("mCoinTable",Zt),a.a.component("mCoinNews",Xt);var Yt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("mHeader",{attrs:{current:2}}),this._v(" "),e("mCoinTable"),this._v(" "),e("mCoinNews"),this._v(" "),e("mFooter")],1)},staticRenderFns:[]};var zt=n("C7Lr")({name:"mMain",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Yt,!1,function(t){n("e6B8")},"data-v-3ee14d04",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var Vt={name:"mCoinDescribeIntruduce",props:{id:String},data:function(){return{show:!1,discription:""}},created:function(){var t=this,e=C+"/back/getcoinbase.php?method=get_description&id="+this.$props.id;w.a.get(e,{method:"get",withCredentials:!1}).then(function(e){t.discription=e.data}).catch(function(t){console.log(t),alert(t)})},methods:{pageChange:function(t){console.log(t)}}},Gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"CoinDescribeIntruduce clearfix"},[n("div",{class:{discribe:!t.show,discribe_all:t.show}},[t._v("\n    "+t._s(t.discription)+"\n  ")]),t._v(" "),n("a",{staticClass:"back",on:{click:function(e){t.show=!t.show}}},[t._v("\n    展开详情/收起详情\n  ")])])},staticRenderFns:[]};var Jt=n("C7Lr")(Vt,Gt,!1,function(t){n("8A9E")},"data-v-341b1904",null).exports;a.a.component("pagination",T.a),a.a.component("v-page",y.vPage);var Kt={name:"mCoinNewsOnCoin",props:{id:String},data:function(){return{new_list:[],page_idx:0}},created:function(){this.GetPage(0)},computed:{},methods:{GetPage:function(t){var e=this,n=C+"/back/getnewsbycoinid.php?&offset="+10*t+"&size=10&coin_id="+this.$props.id;w.a.get(n,{method:"get",withCredentials:!1}).then(function(t){for(var n=0;n<t.data.list.length;n++)t.data.list[n].time_utc=e.transformTime(t.data.list[n].time_utc);e.new_list=e.new_list.concat(t.data.list),e.page_idx+=1,console.log(e.new_list)}).catch(function(t){console.log(t),alert(t)})},addZero:function(t){return t<10?"0"+t:t},transformTime:function(t){var e=Date.parse(new Date);if(e-(t*=1e3)<36e5)return parseInt((e-t)/1e3/60)+"分钟前";if(e-t<864e5)return parseInt((e-t)/1e3/60/60)+"小时前";if(t){var n=new Date(t),a=n.getFullYear(),s=n.getMonth()+1,i=n.getDate(),o=n.getHours(),r=n.getMinutes(),c=n.getSeconds();return a+"-"+this.addZero(s)+"-"+this.addZero(i)+" "+this.addZero(o)+":"+this.addZero(r)+":"+this.addZero(c)}return""},computeSource:function(t){switch(t){case"8比特":return"https://www.8btc.com/";case"金色财金":return"https://www.jinse.com/";case"链闻chainnews":return"https://www.chainnews.com/";case"区势传媒":return"https://www.55coin.com/";case"链向财经":return"https://www.chainfor.com/"}}}},qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"title"},[t._v("最新新闻列表")]),t._v(" "),t._l(t.new_list.length,function(e){return n("div",{staticClass:"news_list"},[n("a",{staticClass:"news_title",attrs:{href:t.new_list[e-1].source_addr,target:"_blank"}},[t._v(t._s(t.new_list[e-1].title))]),t._v(" "),n("div",{staticClass:"news_desc"},[t._v(t._s(t.new_list[e-1].desc))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("a",{staticClass:"news_media right",attrs:{href:t.computeSource(t.new_list[e-1].source_media),target:"_blank"}},[t._v("来源:"+t._s(t.new_list[e-1].source_media))]),t._v(" "),n("div",{staticClass:"news_author right"},[t._v("作者:"+t._s(t.new_list[e-1].author))]),t._v(" "),n("div",{staticClass:"news_time right"},[t._v("发布时间:"+t._s(t.new_list[e-1].time_utc))])])])}),t._v(" "),n("a",{staticClass:"btn_next",on:{click:function(e){return t.GetPage(t.page_idx)}}},[t._v("下一页")])],2)},staticRenderFns:[]};var Qt=n("C7Lr")(Kt,qt,!1,function(t){n("1/vs")},"data-v-482b6e9f",null).exports,te="",ee={name:"mCoinDepth",props:{id:String},data:function(){return{show:!1,depth_item_title:["火币行情","OK行情","币安行情"],depth_data:[[[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]],[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]]],[[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]],[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]]],[[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]],[["-","-"],["-","-"],["-","-"],["-","-"],["-","-"]]]]}},created:function(){if(te=this,window.WebSocket){var t=C+"/back/getcoinbase.php?method=get_coin_name_en&id="+this.$props.id;w.a.get(t,{method:"get",withCredentials:!1}).then(function(t){le(t.data)}).catch(function(t){console.log(t),alert(t)})}},destroyed:function(){!function(){console.log("关闭连接"),ie=!0,null!=se&&(clearTimeout(se),se=null);null!=oe&&(clearInterval(oe),oe=null);re&&(clearTimeout(re),re=null);null!=ae&&ae.close()}()},methods:{}},ne="",ae=null,se=null,ie=!1,oe=null,re=null;function ce(){re&&clearTimeout(re),re=setTimeout(function(){ae&&(console.log("force close"),ae.close())},1e4)}function le(t){var e=[{method:"sub_depth",param:{market:0,order_coin:(ne=t).toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:1,order_coin:ne.toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:2,order_coin:ne.toUpperCase(),base_coin:"USDT",depth:5}}];(ae=new WebSocket(b.depth_url)).onopen=function(t){for(var n in console.log("连接服务器成功"),e)console.log(N()(e[n])),ae.send(N()(e[n]));oe&&clearInterval(oe),oe=setInterval(function(){null!=ae&&console.log("发送ping"),ae.send(N()({ping:0}))},5e3),ce()},ae.onclose=function(t){console.log("服务器关闭"),function(){if(ie)return;se&&(clearTimeout(se),se=null);se=setTimeout(function(){le(ne)},5e3)}()},ae.onerror=function(){console.log("连接出错")},ae.onmessage=function(t){var e;(ce(),"pong"in(e=JSON.parse(t.data)))||((e=JSON.parse(t.data)).order_coin==ne&&0==e.market?(te.$set(te.depth_data[0],0,e.forsell.slice(0,5).reverse()),te.$set(te.depth_data[0],1,e.forbuy.slice(0,5))):e.order_coin==ne&&1==e.market?(te.$set(te.depth_data[1],0,e.forsell.slice(0,5).reverse()),te.$set(te.depth_data[1],1,e.forbuy.slice(0,5))):e.order_coin==ne&&2==e.market&&(te.$set(te.depth_data[2],0,e.forsell.slice(0,5).reverse()),te.$set(te.depth_data[2],1,e.forbuy.slice(0,5))))}}var de={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title_content clearfix"},[n("div",{staticClass:"title left"},[t._v("深度行情")]),t._v(" "),n("div",{staticClass:"show_btn left",on:{click:function(e){t.show=!t.show}}},[t._v(" 展开/折叠")])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",{staticClass:"depth clearfix"},t._l(2,function(e){return n("div",{staticClass:"left",class:{depth_item1:1==e,depth_item2:2==e,depth_item3:3==e}},[n("div",[t._v("\n        "+t._s(t.depth_item_title[e-1])+"\n      ")]),t._v(" "),n("table",{staticClass:"table_sell"},[n("tr",[n("th",{staticClass:"depth_head1"},[t._v("价格(USDT)")]),t._v(" "),n("th",{staticClass:"depth_head2"},[t._v("数量")])]),t._v(" "),t._l(5,function(a){return n("tr",[n("td",{staticClass:"td_item1"},[t._v(t._s(t.depth_data[e-1][0][a-1][0].toString().substring(0,10)))]),t._v(" "),n("td",{staticClass:"td_item2"},[t._v(t._s(t.depth_data[e-1][0][a-1][1].toString().substring(0,10)))])])}),t._v(" "),t._l(5,function(a){return n("tr",{staticClass:"table_buy"},[n("td",{staticClass:"td_item1"},[t._v(t._s(t.depth_data[e-1][1][a-1][0].toString().substring(0,10)))]),t._v(" "),n("td",{staticClass:"td_item2"},[t._v(t._s(t.depth_data[e-1][1][a-1][1].toString().substring(0,10)))])])})],2)])}),0):t._e()])],1)},staticRenderFns:[]};var _e=n("C7Lr")(ee,de,!1,function(t){n("lDUV")},"data-v-31ae46a6",null).exports,ue="",ve={name:"mCoinDetail",props:{id:String},data:function(){return{show:!1,depth_data:[],detail_data:[]}},created:function(){ue=this;for(var t=new Array,e=new Array,n=0;n<3;n++){t[n]=new Array;for(var a=0;a<10;a++)t[n][a]=new Array("-","-","-",0)}for(a=0;a<10;a++)e[a]=new Array("-","-","-","-","-");if(this.depth_data=t,this.detail_data=e,window.WebSocket){var s=C+"/back/getcoinbase.php?method=get_coin_name_en&id="+this.$props.id;w.a.get(s,{method:"get",withCredentials:!1}).then(function(t){be(t.data)}).catch(function(t){console.log(t),alert(t)})}},destroyed:function(){!function(){console.log("关闭连接"),fe=!0,null!=pe&&(clearTimeout(pe),pe=null);null!=ge&&(clearInterval(ge),ge=null);we&&(clearTimeout(we),we=null);null!=me&&me.close()}()},methods:{utc2beijing:function(t){if("-"==t)return"-";var e=new Date(parseInt(t));return(1==e.getHours().toString().length?"0":"")+e.getHours().toString()+":"+(1==e.getMinutes().toString().length?"0":"")+e.getMinutes().toString()+":"+(1==e.getSeconds().toString().length?"0":"")+e.getSeconds().toString()}}},he="",me=null,pe=null,fe=!1,ge=null,we=null;function Ce(){we&&clearTimeout(we),we=setTimeout(function(){me&&(console.log("force close"),me.close())},1e4)}function be(t){var e=[{method:"sub_depth",param:{market:0,order_coin:(he=t).toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:1,order_coin:he.toUpperCase(),base_coin:"USDT",depth:5}},{method:"sub_depth",param:{market:2,order_coin:he.toUpperCase(),base_coin:"USDT",depth:5}}];(me=new WebSocket(b.detail_url)).onopen=function(t){for(var n in console.log("连接服务器成功"),e)me.send(N()(e[n]));ge&&clearInterval(ge),ge=setInterval(function(){null!=me&&console.log("发送ping"),me.send(N()({ping:0}))},5e3),Ce()},me.onclose=function(t){console.log("服务器关闭"),function(){if(fe)return;pe&&(clearTimeout(pe),pe=null);pe=setTimeout(function(){be(he)},5e3)}()},me.onerror=function(){console.log("连接出错")},me.onmessage=function(t){var e;if(Ce(),!("pong"in(e=JSON.parse(t.data))))if((e=JSON.parse(t.data)).order_coin==he&&0==e.market){var n=[];for(var a in e.data)n.push([e.data[a].trade_time,e.data[a].price,e.data[a].amount,e.data[a].dir,"火币"]);n=n.concat(ue.detail_data),ue.detail_data=n.slice(0,10)}else if(e.order_coin==he&&1==e.market){n=[];for(var a in e.data)n.push([e.data[a].trade_time,e.data[a].price,e.data[a].amount,e.data[a].dir,"OK"]);n=n.concat(ue.detail_data),ue.detail_data=n.slice(0,10)}else if(e.order_coin==he&&2==e.market){n=[];for(var a in e.data)n.push([e.data[a].trade_time,e.data[a].price,e.data[a].amount,e.data[a].dir,"币安"]);n=n.concat(ue.detail_data),ue.detail_data=n.slice(0,10)}}}var Se={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title_content clearfix"},[n("div",{staticClass:"title left"},[t._v("汇总成交记录")]),t._v(" "),n("div",{staticClass:"show_btn left",on:{click:function(e){t.show=!t.show}}},[t._v(" 展开/折叠")])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",{staticClass:"depth clearfix"},[n("div",{staticClass:"left depth_item"},[n("table",{staticClass:"table_sell"},[n("tr",[n("th",{staticClass:"depth_head1"},[t._v("交易时间")]),t._v(" "),n("th",{staticClass:"depth_head2"},[t._v("价格(USDT)")]),t._v(" "),n("th",{staticClass:"depth_head3"},[t._v("数量")]),t._v(" "),n("th",{staticClass:"depth_head4"},[t._v("平台")])]),t._v(" "),t._l(10,function(e){return n("tr",{class:{green:0==t.detail_data[e-1][3]}},[n("td",[t._v(t._s(t.utc2beijing(t.detail_data[e-1][0]).toString()))]),t._v(" "),n("td",[t._v(t._s(t.detail_data[e-1][1].toString().substring(0,10)))]),t._v(" "),n("td",[t._v(t._s(t.detail_data[e-1][2].toString().substring(0,10)))]),t._v(" "),n("td",[t._v(t._s(t.detail_data[e-1][4]))])])})],2)])]):t._e()])],1)},staticRenderFns:[]};var Te=n("C7Lr")(ve,Se,!1,function(t){n("q1zh")},"data-v-a621764c",null).exports,ye="",De={name:"mCoinTradeInfo",props:{id:String},data:function(){return{show:!1,day_amount:[[0,0],[0,0],[0,0]],day_buy_width:[100,100,100],all_amount:[0,0],all_buy_width:100}},created:function(){var t=new Date;if(console.log(t.getTime()),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),ye=this,window.WebSocket){var e=C+"/back/getcoinbase.php?method=get_coin_name_en&id="+this.$props.id;w.a.get(e,{method:"get",withCredentials:!1}).then(function(t){Re(t.data)}).catch(function(t){console.log(t),alert(t)})}},destroyed:function(){!function(){console.log("关闭连接"),$e=!0,null!=ke&&(clearTimeout(ke),ke=null);null!=Fe&&(clearInterval(Fe),Fe=null);Ee&&(clearTimeout(Ee),Ee=null);null!=xe&&xe.close()}()},methods:{}},Ue="",xe=null,ke=null,$e=!1,Fe=null,Ee=null;function He(){Ee&&clearTimeout(Ee),Ee=setTimeout(function(){xe&&(console.log("force close"),xe.close())},1e4)}function Re(t){var e=[{method:"sub_analyse",param:{market:0,order_coin:(Ue=t).toUpperCase(),base_coin:"USDT",watch_type:["min","hour","day"]}},{method:"sub_analyse",param:{market:1,order_coin:Ue.toUpperCase(),base_coin:"USDT",watch_type:["min","hour","day"]}},{method:"sub_analyse",param:{market:2,order_coin:Ue.toUpperCase(),base_coin:"USDT",watch_type:["min","hour","day"]}}];(xe=new WebSocket(b.analyse_url)).onopen=function(t){for(var n in console.log("连接服务器成功"),e)console.log(N()(e[n])),xe.send(N()(e[n]));Fe&&clearInterval(Fe),Fe=setInterval(function(){null!=xe&&console.log("发送ping"),xe.send(N()({ping:0}))},5e3),He()},xe.onclose=function(t){console.log("服务器关闭"),function(){if($e)return;ke&&(clearTimeout(ke),ke=null);ke=setTimeout(function(){Re(Ue)},5e3)}()},xe.onerror=function(){console.log("连接出错")},xe.onmessage=function(t){if(He(),!("pong"in(e=JSON.parse(t.data)))){var e,n=(e=JSON.parse(t.data)).type.split("_");if("day"==n[0]&&0!=e.data.length){ye.$set(ye.day_amount[n[1]],0,e.data[0].buy.toString().slice(0,10)),ye.$set(ye.day_amount[n[1]],1,e.data[0].sell.toString().slice(0,10)),ye.$set(ye.day_buy_width,n[1],parseFloat(e.data[0].buy)/(parseFloat(e.data[0].buy)+parseFloat(e.data[0].sell))*100);for(var a=0,s=0,i=0;i<3;i++)a+=parseFloat(ye.day_amount[i][0]),s+=parseFloat(ye.day_amount[i][1]);ye.all_amount=[a.toString().slice(0,10),s.toString().slice(0,10)],ye.all_buy_width=100*a/(a+s)}}}}var Le={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title_content clearfix"},[n("div",{staticClass:"title left"},[t._v("分析")]),t._v(" "),n("div",{staticClass:"show_btn left",on:{click:function(e){t.show=!t.show}}},[t._v(" 展开/折叠")])]),t._v(" "),n("transition",{attrs:{name:"bounce"}},[t.show?n("div",[n("div",{staticClass:"amount_title"},[t._v("\n            当日多空情况汇总\n      ")]),t._v(" "),n("div",{staticClass:"clearfix amount_count"},[n("div",{staticClass:"buy left"},[n("div",[t._v("买入总数")]),t._v(" "),n("div",[t._v(t._s(t.all_amount[0]))])]),t._v(" "),n("div",{staticClass:"sell right"},[n("div",[t._v("卖出总数")]),t._v(" "),n("div",[t._v(t._s(t.all_amount[1]))])])]),t._v(" "),n("div",{staticClass:"clearfix amount_line"},[n("div",{staticClass:"buyscale left",staticStyle:{background:"#00ff00"},style:{width:t.all_buy_width+"%"}}),t._v(" "),n("div",{staticClass:"sellscale left",staticStyle:{background:"#ff0000"},style:{width:100-t.all_buy_width+"%"}})])]):t._e()])],1)},staticRenderFns:[]};var Be=n("C7Lr")(De,Le,!1,function(t){n("lIa7")},"data-v-0316a842",null).exports;a.a.component("mHeader",Et),a.a.component("mCoinDescribeIntruduce",Jt),a.a.component("mCoinNewsOnCoin",Qt),a.a.component("mFooter",Bt),a.a.component("mCoinDepth",_e),a.a.component("mCoinDetail",Te),a.a.component("mCoinTradeInfo",Be);var Ie={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("mHeader",{attrs:{current:2}}),this._v(" "),e("mCoinDescribeIntruduce",{attrs:{id:this.$route.params.id}}),this._v(" "),e("mCoinDepth",{attrs:{id:this.$route.params.id}}),this._v(" "),e("mCoinDetail",{attrs:{id:this.$route.params.id}}),this._v(" "),e("mCoinTradeInfo",{attrs:{id:this.$route.params.id}}),this._v(" "),e("mCoinNewsOnCoin",{attrs:{id:this.$route.params.id}}),this._v(" "),e("mFooter")],1)},staticRenderFns:[]};var Me=n("C7Lr")({name:"mCoinDescrebe",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Ie,!1,function(t){n("TaCH")},"data-v-564c39b6",null).exports;a.a.component("mHeader",Et),a.a.component("mFooter",Bt),a.a.component("mErrorBody",Ot);var Ae={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("mHeader",{attrs:{current:3}}),this._v(" "),e("mErrorBody"),this._v(" "),e("mFooter")],1)},staticRenderFns:[]};var Oe=n("C7Lr")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Ae,!1,function(t){n("dzCP")},"data-v-2d653657",null).exports;a.a.component("mHeader",Et),a.a.component("mFooter",Bt),a.a.component("mErrorBody",Ot);var Ne={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("mHeader",{attrs:{current:4}}),this._v(" "),e("mErrorBody"),this._v(" "),e("mFooter")],1)},staticRenderFns:[]};var Pe=n("C7Lr")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},Ne,!1,function(t){n("oggm")},"data-v-5c3f6e00",null).exports;a.a.use(o.a);var Ze=[{path:"/",name:"Main",component:m},{path:"/Coin",name:"Coin",component:H},{path:"/Coin/Describe/:id",name:"coin_describe",component:yt},{path:"/Stone",name:"Stone",component:Ut},{path:"/News",name:"News",component:kt}],We=[{path:"/",name:"mMain",component:Mt},{path:"/Coin",name:"mCoin",component:zt},{path:"/Coin/Describe/:id",name:"mcoin_describe",component:Me},{path:"/Stone",name:"mStone",component:Oe},{path:"/News",name:"mNews",component:Pe}],je=window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),Xe=Ze;je?(Xe=We,console.log("移动端"+je)):(Xe=Ze,console.log("pc端"));var Ye=new o.a({mode:"history",routes:Xe});a.a.config.productionTip=!1,new a.a({el:"#app",router:Ye,components:{App:i},template:"<App/>"})},NLdt:function(t,e){},Oz72:function(t,e){},QYZS:function(t,e){},Sa5l:function(t,e){},T2bn:function(t,e){},TaCH:function(t,e){},VeO1:function(t,e){},Y5zk:function(t,e){},ZS1o:function(t,e){},dzCP:function(t,e){},e6B8:function(t,e){},fxpU:function(t,e){},l406:function(t,e){},lDUV:function(t,e){},lIa7:function(t,e){},mSqb:function(t,e){},oggm:function(t,e){},q1zh:function(t,e){},qhmc:function(t,e){},sbQ8:function(t,e){},tOCY:function(t,e){},yj14:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.20a2cf957c4133e7441a.js.map